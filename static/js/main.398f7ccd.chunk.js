(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t){},18:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},37:function(e,t){},38:function(e,t){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),o=a.n(r),l=(a(23),a(25),a(1)),c=a(2),i=a(4),u=a(3),d=a(5),p=(a(27),a(17));var m=function(e){var t=e.value,a=e.onChange,r=Object(n.useState)(!1),o=Object(p.a)(r,2),l=o[0],c=o[1];return s.a.createElement("div",null,l&&s.a.createElement("form",{className:"pure-form animated fadeIn",onSubmit:function(e){e.preventDefault(),c(!1)}},s.a.createElement("input",{autoFocus:!0,type:"text",value:t,onChange:a,onBlur:function(){return c(!1)}}),s.a.createElement("button",{type:"submit",className:"pure-button u-margin-left"},"Save")),!l&&s.a.createElement("span",{className:"headline",onClick:function(){return c(!0)},style:{cursor:"pointer"}},s.a.createElement("h1",{onClick:function(){return c(!0)}},t),s.a.createElement("small",null,"click to edit")))},h=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.shouldFocusOnCreate&&this.textArea.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"pure-form"},s.a.createElement("label",{htmlFor:this.props.name},s.a.createElement("strong",null,this.props.label)),s.a.createElement("textarea",{style:{resize:"none"},ref:function(t){e.textArea=t},className:"row-text-area",onChange:this.props.onChange,name:this.props.name,id:this.props.id,value:this.props.value}))}}]),t}(n.Component),f=function(e){var t=e.deviceName,a=e.value,n=e.onChange;return s.a.createElement("div",null,t,":",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("label",{className:"u-display-inline-block u-margin-left"},s.a.createElement("input",{type:"radio",name:"".concat(t,"-status"),checked:"n/a"===a,onChange:function(){return n("n/a")}}),"n/a"),s.a.createElement("label",{className:"u-display-inline-block u-margin-left"},s.a.createElement("input",{type:"radio",name:"".concat(t,"-status"),checked:"fail"===a,onChange:function(){return n("fail")}}),"Fail"),s.a.createElement("label",{className:"u-display-inline-block u-margin-left"},s.a.createElement("input",{type:"radio",name:"".concat(t,"-status"),checked:"pass"===a,onChange:function(){return n("pass")}}),"Pass")))},g=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.bugs,a=t[t.length-1],n=void 0!==a&&a.description.length<1;return s.a.createElement("tr",{className:"animated fadeIn faster"},s.a.createElement("td",null,s.a.createElement(h,{onChange:function(t){return e.props.onChange(t,e.props.id)},value:this.props.case,name:"case",label:"Test case ".concat(this.props.itemNumber),shouldFocusOnCreate:0===this.props.case.length})),s.a.createElement("td",null,s.a.createElement(h,{onChange:function(t){return e.props.onChange(t,e.props.id)},value:this.props.expectedResult,label:"Expected result",name:"expectedResult"})),s.a.createElement("td",null,s.a.createElement("button",{className:"button-danger pure-button",onClick:function(){return e.props.onAddBug(e.props.id)},disabled:n},"+ Bug")),s.a.createElement("td",null,[{deviceName:"iPhone",name:"iPhoneTested",value:this.props.iPhoneTested},{deviceName:"Zebra",name:"zebraTested",value:this.props.zebraTested},{deviceName:"iPad",name:"iPadTested",value:this.props.iPadTested},{deviceName:"Chrome v46",name:"chromeV46Tested",value:this.props.chromeV46Tested},{deviceName:"Desktop",name:"desktopTested",value:this.props.desktopTested}].map(function(t){return s.a.createElement(f,{key:"".concat(e.props.id,"-").concat(t.name),deviceName:t.deviceName,name:t.name,onChange:function(a){return e.props.onChange({target:{name:t.name,value:a}},e.props.id)},value:t.value})})),s.a.createElement("td",{className:"table-id-column u-center"},s.a.createElement("button",{className:"button-danger pure-button u-margin-left important-active-red",onClick:function(){return e.props.onDelete(e.props.id)}},"Delete")))}}]),t}(n.Component),b="Failed",E="Passed",v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).getClass=function(e){return e===E?"dot passed":e===b?"dot failed":"dot not-tested"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("span",{className:"".concat(this.getClass(this.props.status)," animated ").concat(this.props.animatedClassName)})}}]),t}(n.Component),C=function(e){var t=e.status,a=e.onChange;return s.a.createElement("span",null,s.a.createElement(v,{status:t}),s.a.createElement("select",{value:t,className:"u-margin-left",style:{verticalAlign:"middle"},name:"status",onChange:a},s.a.createElement("option",{value:"Not tested"},"Not tested"),s.a.createElement("option",{value:b},b),s.a.createElement("option",{value:E},E)))},w=function(e){var t=e.caseId,a=e.id,n=e.description,r=e.onChange,o=e.onDelete,l=e.itemNumber,c=e.status,i=e.lastTested;e.isBlocker;return s.a.createElement("tr",{className:"animated fadeIn faster"},s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement(h,{value:n,shouldFocusOnCreate:0===n.length,name:"description",onChange:function(e){return r(e,t,a)},label:"Bug ".concat(l)})),s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("small",null,"Last tested:"),s.a.createElement("br",null),s.a.createElement("small",null,i)),s.a.createElement("td",null,s.a.createElement(C,{onChange:function(e){return r(e,t,a)},status:c})),s.a.createElement("td",null,s.a.createElement("button",{className:"button-danger pure-button u-margin-left important-active-red",onClick:function(){return o(t,a)}},"Delete")))},N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).getCaseItemNumber=function(e){for(var t=0;t<a.props.rows.length;t++){if(a.props.rows[t].id===e)return t+1}},a.getBugItemNumber=function(e,t){return a.props.rows.find(function(t){return t.id===e}).bugs.findIndex(function(e){return e.id===t})+1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.props.rows.length;a++){var n=this.props.rows[a];t.push(n),n.bugs.forEach(function(e){return t.push(e)})}return s.a.createElement("div",null,this.props.rows&&this.props.rows.length>0&&s.a.createElement("table",{className:"pure-table pure-table-horizontal animated fadeIn"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",null),s.a.createElement("th",null),s.a.createElement("th",null,"Devices"),s.a.createElement("th",null))),s.a.createElement("tbody",{id:"test-case-table-body"},t.map(function(t,a){return"CASE_ROW"===t.type?s.a.createElement(g,{key:t.id,id:t.id,itemNumber:e.getCaseItemNumber(t.id),case:t.case,bugs:t.bugs,expectedResult:t.expectedResult,actualResult:t.actualResult,iPhoneTested:t.iPhoneTested,zebraTested:t.zebraTested,iPadTested:t.iPadTested,chromeV46Tested:t.chromeV46Tested,desktopTested:t.desktopTested,status:t.status,onChange:e.props.onCaseChange,onDelete:e.props.onDeleteCase,onAddBug:e.props.onAddBug}):s.a.createElement(w,{id:t.id,caseId:t.caseId,itemNumber:e.getBugItemNumber(t.caseId,t.id),key:"".concat(t.caseId," - ").concat(t.id),description:t.description,onChange:e.props.onBugChange,onDelete:e.props.onDeleteBug,status:t.status,lastTested:t.lastTested,isBlocker:t.isBlocker})}))))}}]),t}(n.Component),y=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},T="id,Case,Expected result,Actual result,iPhone passed,Zebra passed,iPad passed,desktop passed,Status\r\n",O=function(e){var t=e.split("\n");return T.trim().toLowerCase()===t[0].trim().toLowerCase()},x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={hideControls:!1},a.onJsonFileImportChange=function(e){var t=new FileReader;t.readAsText(e.target.files[0]),t.onload=function(e){var t=e.target.result;y(t)?a.props.onImportJson(JSON.parse(t)):alert("that's not valid json, is it mate")}},a.onCsvFileImportChange=function(e){var t=new FileReader;t.readAsText(e.target.files[0]),t.onload=function(e){var t=e.target.result;if(O(t)){for(var n={rows:[]},s=t.split("\n"),r=1;r<s.length;r++){var o=s[r].split('",'),l={};if(o[0].length<1||o[1].length<1)break;l.id=o[0].replace(/"/g,""),l.case=o[1].replace(/"/g,""),l.expectedResult=o[2].replace(/"/g,""),l.actualResult=o[3].replace(/"/g,""),l.iPhoneTested="true"===o[4].replace(/"/g,"").toLowerCase(),l.zebraTested="true"===o[5].replace(/"/g,"").toLowerCase(),l.iPadTested="true"===o[6].replace(/"/g,"").toLowerCase(),l.desktopTested="true"===o[7].replace(/"/g,"").toLowerCase(),l.status=o[8].replace(/"/g,""),n.rows.push(l)}a.props.onImportJson(n)}else alert("I don't like the header of that file's content")}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("button",{className:"button-secondary pure-button",onClick:function(){return document.getElementById("jsonFileInput").click()}},"Import JSON"),s.a.createElement("button",{className:"button-secondary pure-button  u-margin-left",onClick:this.props.onExportJson},"Export JSON"),s.a.createElement("button",{className:"button-secondary pure-button u-margin-left",onClick:this.props.onExportTxt},"Export TXT"),s.a.createElement("button",{className:"button-secondary pure-button u-margin-left",onClick:this.props.onExportXlsx},"Export XLSX"),s.a.createElement("button",{className:"button-danger pure-button",style:{float:"right"},onClick:this.props.onResetData},"Reset data"),s.a.createElement("input",{type:"file",id:"jsonFileInput",className:"u-display-none",onChange:this.onJsonFileImportChange}),s.a.createElement("input",{type:"file",id:"csvFileInput",className:"u-display-none",onChange:this.onCsvFileImportChange}),s.a.createElement("input",{type:"file",id:"csvFileInput",className:"u-display-none",onChange:this.onCsvFileImportChange}),s.a.createElement("input",{type:"file",id:"jsonFileInput",className:"u-display-none",onChange:this.onJsonFileImportChange}))}}]),t}(n.Component),k=function(e){return{type:"CASE_ROW",id:e,case:"",expectedResult:"",chromeV46Tested:!1,iPhoneTested:!1,zebraTested:!1,iPadTested:!1,desktopTested:!1,status:"Not tested",bugs:[],statusLastUpdatedOn:null}},S=function(e,t){return{caseId:t,id:e,type:"BUG_ROW",description:"",fixed:!1,status:"Not tested",vstsId:"",isBlocker:!1,lastTested:null}},I=a(9),j=a(6),B=a.n(j),R=a(10),D=a.n(R),A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).addBug=function(t){var a=e.state;a.rows.find(function(e){return e.id===t}).bugs.push(S(Object(I.v1)(),t)),e.setState(a)},e.onCaseChange=function(t,a){var n=e.state,s=n.rows.find(function(e){return e.id===a});"checkbox"===t.target.type?s[t.target.name]=!s[t.target.name]:s[t.target.name]=t.target.value,"status"===t.target.name&&(s.statusLastUpdatedOn=D()().format("llll")),e.setState(n),window.localStorage["test-cases"]=JSON.stringify(n)},e.onBugChange=function(t,a,n){var s=e.state,r=s.rows.find(function(e){return e.id===a}).bugs.find(function(e){return e.id===n});r[t.target.name]=t.target.value,"checkbox"===t.target.type?r[t.target.name]=!r[t.target.name]:r[t.target.name]=t.target.value,"status"===t.target.name&&(r.lastTested=D()().format("llll")),e.setState(s),window.localStorage["test-cases"]=JSON.stringify(s)},e.deleteCase=function(t){var a=e.state;a.rows=e.state.rows.filter(function(e){return e.id!==t}),e.setState(a),window.localStorage["test-cases"]=JSON.stringify(a)},e.deleteBug=function(t,a){var n=e.state,s=n.rows.find(function(e){return e.id===t});s.bugs=s.bugs.filter(function(e){return e.id!==a}),e.setState(n)},e.addNewRow=function(){var t=e.state,a=k(Object(I.v1)());t.rows.push(a),e.setState(t)},e.exportData=function(t,a){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),n.setAttribute("download","".concat(e.state.title,".").concat(t)),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},e.exportJson=function(){e.exportData("json",JSON.stringify(e.state,null,"\t"))},e.exportTxt=function(){var t=e.state.rows.map(function(e){return"".concat(e.case,"\r\nExpected result: ").concat(e.expectedResult,"\r\nActual result: ").concat(e.actualResult,"\r\nStatus: ").concat(e.status,"\r\n-----")}).join("\r\n");e.exportData("txt",t)},e.exportCsv=function(){var t=T;e.state.rows.forEach(function(e){var a="";for(var n in e)a+='"'+e[n]+'",';t+=a+="\r\n"}),e.exportData("csv",t)},e.exportXlsx=function(){var t=[["NO","USER STORE CONDITIONS","EXPECTED RESULTS","DATE LAST TESTED","PASS / FAIL","CHROME V46/ V64","IPHONE X V 11","ZEBRA V52 / V56","IPAD V11"]],a=[["Feature / Bug Description","Test case","VSTS/ Sprint ID","Blocker?","Status","Last tested date"]],n=[];e.state.rows.forEach(function(e){return e.bugs.forEach(function(e){return n.push(e)})}),n.forEach(function(t){return a.push([t.description,e.state.rows.findIndex(function(e){return e.id===t.caseId})+1,t.vstsId,t.isBlocker?"Yes":"No",t.status,t.lastTested])}),e.state.rows.forEach(function(e,a){return t.push([a+1,e.case,e.expectedResult,e.statusLastUpdatedOn,e.status,e.desktopTested,e.iPhoneTested,e.zebraTested,e.iPadTested])});var s=B.a.utils.book_new(),r=B.a.utils.aoa_to_sheet(t),o=B.a.utils.aoa_to_sheet(a);B.a.utils.book_append_sheet(s,r,"Test Cases"),B.a.utils.book_append_sheet(s,o,"Bugs");var l="".concat(e.state.title,".xlsx");B.a.writeFile(s,l)},e.importJson=function(t){e.setState(t),window.localStorage["test-cases"]=JSON.stringify(t)},e.clearCache=function(){window.localStorage["test-cases"]="",e.setState({rows:[],title:"Test cases"})},e.addButtonIsDisabled=function(){var t=e.state.rows;return t.length>0&&0===t[t.length-1].case.length},e.onTitleChange=function(t){var a=e.state;a.title=t.target.value,window.localStorage["test-cases"]=JSON.stringify(e.state),e.setState(a)},e.state={rows:[],title:"Test cases"},"undefined"!==typeof window&&window.localStorage["test-cases"]&&window.localStorage["test-cases"].length>0&&(e.state=JSON.parse(window.localStorage["test-cases"])),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"animated fadeIn"},s.a.createElement("div",{className:"u-margin-bottom"},s.a.createElement(m,{value:this.state.title,onChange:function(t){return e.onTitleChange(t)}})),s.a.createElement(x,{onAddNewRow:this.addNewRow,onExportJson:this.exportJson,onExportTxt:this.exportTxt,onResetData:this.clearCache,onExportCsv:this.exportCsv,onImportJson:this.importJson,onExportXlsx:this.exportXlsx}),s.a.createElement("br",null),s.a.createElement(N,{rows:this.state.rows,onCaseChange:this.onCaseChange,onBugChange:this.onBugChange,onDeleteCase:this.deleteCase,onAddBug:this.addBug,onDeleteBug:this.deleteBug}),s.a.createElement("br",null),s.a.createElement("button",{className:"button-secondary pure-button important-active-green",disabled:this.addButtonIsDisabled(),onClick:this.addNewRow},"Add test case"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.398f7ccd.chunk.js.map